(function(a){a.fn.jqScroll=function(b){var c={scrollbarWidth:25,scrollThumbLength:false,scrollbarOverTheContent:true,scrollLatency:false,scrollTrackVisible:false,scrollEasing:"linear",scrollTrackStyleClass:false,scrollThumbStyleClass:false,mousewheelVelocity:20,autoHide:true,scroll:function(a){},scrollStop:function(a){}};a.extend(c,b);if(c.scrollbarWidth<10){c.scrollbarWidth=10}if(c.scrollbarWidth>25){c.scrollbarWidth=25}return this.each(function(){var b=a(this);a(window).load(function(){var d=b.height();var e=b.width();var f=c.scrollLatency?c.scrollLatency:0;b.wrap("<div class='tscrollbarContainer' ></div>");var g=b.parent(".tscrollbarContainer");b.wrapInner("<div class='tscrollbarInnerContentContainer' ></div>");var h=b.position();var i=c.scrollbarOverTheContent?d:d+c.scrollbarWidth;var j=c.scrollbarOverTheContent?e:e+c.scrollbarWidth;b.parent(".tscrollbarContainer").css({position:"absolute",left:h.left,top:h.top,height:i,width:j});b.css({position:"absolute",left:0,top:0,height:d,width:e});b.css({overflow:"hidden"});var k=b.prop("scrollWidth");var l=b.prop("scrollHeight");b.find(".tscrollbarInnerContentContainer").css({width:k,height:l});var m=l;var n=k;var o=0;var p=1;if(d<m){var q=j-c.scrollbarWidth;var r=a("<div class='verticalScroll'/>");g.append(r);o=g.find(".verticalScroll").css({position:"absolute",left:q,top:0,height:c.scrollbarOverTheContent?d-c.scrollbarWidth:d,width:c.scrollbarWidth,background:"transparent"}).html("<div class='verticalScrollHandle'/>").height();if(c.scrollTrackVisible){g.find(".verticalScroll").prepend("<center><div class='verticalScrollPath'/></center>");g.find(".verticalScrollPath").css({position:"absolute",width:"40%",left:"30%",top:"0%",height:"100%",opacity:.6,filter:"alpha(opacity = 60)"});if(c.scrollTrackStyleClass){g.find(".verticalScrollPath").addClass(c.scrollTrackStyleClass)}else{g.find(".verticalScrollPath").css({background:"black"})}}var s=c.scrollThumbLength;var t=d/m*100;var u=t*o/100;if(!c.scrollThumbLength){s=u}var v=0;var w=1;if(c.scrollThumbLength){w=(o-u)/(o-c.scrollThumbLength);p=u/c.scrollThumbLength}g.find(".verticalScrollHandle").css({position:"absolute",height:s,top:"0%",width:"100%",opacity:.6,filter:"alpha(opacity = 60)"}).draggable({containment:"parent"}).bind("drag",function(d,e){v=a(this).position().top;var g=v*w/o*100;var h=m*g/100;b.animate({scrollTop:h},{duration:f,easing:c.scrollEasing});c.scroll(v)}).bind("dragstop",function(a,b){c.scrollStop(v)});if(c.scrollThumbStyleClass){g.find(".verticalScrollHandle").addClass(c.scrollThumbStyleClass)}else{g.find(".verticalScrollHandle").css({background:"black"})}}if(e<n){var x=h.left;var y=a("<div class='horizontalScroll'/>");g.append(y);var z=g.find(".horizontalScroll").css({position:"absolute",left:0,top:i-c.scrollbarWidth,height:c.scrollbarWidth,width:c.scrollbarOverTheContent?e-c.scrollbarWidth:e,background:"transparent"}).html("<div class='horizontalScrollHandle'/>").width();if(c.scrollTrackVisible){g.find(".horizontalScroll").prepend("<center><div class='horizontalScrollPath'/></center>");g.find(".horizontalScrollPath").css({position:"absolute",width:"100%",left:"0%",top:"30%",height:"40%",width:"100%",opacity:.6,filter:"alpha(opacity = 60)"});if(c.scrollTrackStyleClass){g.find(".horizontalScrollPath").addClass(c.scrollTrackStyleClass)}else{g.find(".horizontalScrollPath").css({background:"black"})}}var A=c.scrollThumbLength;var B=e/n*100;var C=B*z/100;if(!c.scrollThumbLength){A=C}var v=0;var D=1;if(c.scrollThumbLength){D=(z-C)/(z-c.scrollThumbLength)}g.find(".horizontalScrollHandle").css({position:"absolute",height:"100%",top:"0%",left:"0%",width:A,opacity:.6,filter:"alpha(opacity = 60)"}).draggable({containment:"parent"}).bind("drag",function(){v=a(this).position().left;var d=v*D/z*100;var e=n*d/100;b.scrollLeft(e);b.animate({scrollLeft:e},{duration:0});c.scroll(v)}).bind("dragstop",function(){c.scrollStop(v)});if(c.scrollThumbStyleClass){g.find(".horizontalScrollHandle").addClass(c.scrollThumbStyleClass)}else{g.find(".horizontalScrollHandle").css({background:"black"})}}if(c.autoHide){var E=g.find(".verticalScroll,.horizontalScroll");E.hide();g.on("mouseenter",function(){E.fadeIn(100)});g.on("mouseleave",function(a){E.fadeOut(500)})}var F=i-c.scrollThumbLength-c.scrollbarWidth;var G=function(a){var d=a.wheelDelta?a.wheelDelta>0?1:-1:a.detail>0?-1:1;var e=c.mousewheelVelocity;var f=d*e;var h=b.scrollTop()-f;b.animate({scrollTop:h},{duration:0,easing:c.scrollEasing});var i=b.scrollTop();var j=i/l*100;var k=j*o/(100*w);g.find(".verticalScrollHandle").css({top:k>=F?F:k})};var H=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";if(document.attachEvent)b.find(".tscrollbarInnerContentContainer").get(0).attachEvent("on"+H,function(a){G(a)});else if(document.addEventListener)b.find(".tscrollbarInnerContentContainer").get(0).addEventListener(H,function(a){G(a)},false)})})}})(jQuery)